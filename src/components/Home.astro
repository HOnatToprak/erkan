---
import { Picture } from 'astro:assets';
import InstagramLink from './InstagramLink.astro';
import EmailLink from './EmailLink.astro';
import {reader} from '../reader'

import heroImage from '../content/home/heroImage.jpg';


const data = await reader.singletons.home.readOrThrow()
---

<main class="min-h-screen flex items-center justify-center p-8">
  <section class="w-full max-w-2xl bg-white/70 backdrop-blur-sm rounded-3xl shadow-xl border border-white/60 p-8 flex flex-col items-center gap-6">
    <div class="w-44 h-44 rounded-2xl overflow-hidden shadow-lg ring-1 ring-white">
      <Picture src={heroImage} formats={["avif", "webp"]} alt="Profile"/>
    </div>

    <div class="text-center px-2">
      <h1 class="text-2xl md:text-3xl font-semibold text-slate-900">{data.title}</h1>
      <p class="mt-2 text-slate-600">{data.subtitle}</p>
      <p class="mt-4 text-slate-700 max-w-prose mx-auto">{data.summary}</p>
    </div>

    <div class="flex flex-col sm:flex-row items-center gap-6 mt-2">
      {
        data.socialLinks.map(link => {
          if (link.discriminant === 'instagram') {
            return <InstagramLink profileId={link.value} />;
          } else if (link.discriminant === 'email') {
            return <EmailLink email={link.value} />;
          }
        })
      }
    </div>
  </section>
</main>
